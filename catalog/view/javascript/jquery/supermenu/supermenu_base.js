/*GENERAL JAVASCRIPT*/


function tallestdiv(what){
 var currentTallest = 0;
$(what).each(function(){
  	$(this).children().each(function(i){
		if ($(this).height() > currentTallest) { currentTallest = $(this).height(); }
	});
});
return currentTallest;
}

jQuery(document).delegate(".filter_box dl.filters li em", "click", function(){
	   jQuery(this).siblings("a:not(.filter_del)").click();
});

jQuery(document).delegate("li.more_filters1 a", "click", function(){
	  
   var a = jQuery(this).closest("dl");
   jQuery("dd", a).toggle();
   jQuery("dd", a).each(function () {
   if (jQuery(this).height() > 250) {
      jQuery(this).height(250)
   }
   });
  return false
});
jQuery(document).delegate(".filter_box dt", "click", function(e){
   if (!jQuery(e.delegateTarget).is("img")) {
     var a = jQuery(this);
      a.closest("dl").toggleClass("closed")
   }
    return false
});

jQuery(document).delegate("a.all_filters", "click", function(){
  var jThis = jQuery(this);	  
  var hreflink=jThis.metadata().dnd;
  var a = jQuery(this).closest("dd");
  var b = jQuery(this).closest(".more_filters");
  var url = $('base').attr('href')
  
  jQuery(b).prepend("<img src=\""+url+"image/supermenu/aloader.gif\" class=\"f_right\" />");
     jQuery(a).load(hreflink, function () {
       a.prev("dt").find("img").hide();
         if (jQuery(a).height() > 250) {
           jQuery(a).height(250)
        }
      });
    return false
});
	

var timers = {};
function delayShowData(url,is_ajax) {
  clearTimeout(timers);
  timers = setTimeout(function() {
   if (is_ajax){ 
	Ajaxmenu(url);
   }else{ 
	location.replace(url);
   } 
   }, 500);
}
	
/*refine results*/
function refineResults(h,f,g,e){var h=h||window.event;var j=e;g=document.getElementById(g)||g;var k=jQuery(g).closest("dl");if(typeof g=="object"){g=g.getElementsByTagName("LI");var d=0;var a=null;for(i=0;i<g.length;i++){var c=(g[i].innerText||g[i].textContent).toLowerCase();if(c.indexOf("(")!=-1){c=c.substring(0,c.indexOf("("))}if(c.indexOf(f.value.toLowerCase())!=-1){g[i].style.display="block";a=g[i].getElementsByTagName("A")[0].href;d++}else{g[i].style.display="none"}}if(h){var b=h.keyCode||h.which;if(b==13&&d==1){window.location=a}}}var l=jQuery(j).height();jQuery("dd",k).each(function(){if(l>250){jQuery(this).height(250)}else{jQuery(this).height(l)}})}

/*AJAX MANAGER*/
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(6($){"1P 1Q";f r={},g={};$.k=(6(){6 O(7,d){r[7]=Z $.k.C(7,d);a r[7]}6 10(7){5(r[7]){r[7].P(D);11 r[7]}}f 1n={O:O,10:10};a 1n})();$.k.C=6(7,d){3.h={};3.w=0;3.7=7;3.l=7;3.d=$.Q({},$.k.1o,d);5(d&&d.e&&d.e!==D&&R d.e===\'12\'&&d.e!==\'P\'){3.l=d.e}};$.k.C.J={1p:6(x,o){5(R x==\'1R\'){o=x}E 5(R x==\'12\'){o=$.Q(o||{},{x:x})}o=$.Q({},3.d,o);f K=o.1q||$.F,L=o.S||$.F,T=o.T||$.F,13=o.1r||$.F,14=(R o.j==\'12\')?o.j:$.1S(o.j||{}),b=o.1T+o.x+14,c=3,U=3.1s(b,o,L,K);5(o.M&&o.A){5(o.M){o.A=m}15(6(){1t("M 1U A 1V\'t 1W 1X D");},0)}5(3.h[b]&&o.M){a}U.b=b;o.b=b;o.T=6(4,d){f s=T.p(3,4,d);5(s===m){c.16(b)}4=q;a s};o.1q=6(4,9){c.17.p(c,3,K,4,9,b,o);4=q};o.S=6(j,9,4){c.18.p(c,3,L,j,9,4,o);4=q};o.1r=6(B,9,19){f 1a=\'\',1b=\'\';5(9!==\'1Y\'&&B){1a=B.9;1b=B.1c||B.1d}5(13){13.p(3,B,9,19,o)}E{15(6(){1t 9+\'| 9: \'+1a+\' | 1Z: \'+o.x+\' | j: \'+14+\' | 20: \'+19+\' | 21: \'+1b;},0)}B=q};5(o.e===\'P\'){$(u).1u(3.l)}5(o.e||(o.A&&3.h[b])){$.e(u,3.l,U);5(3.w<o.1v&&(!3.h[b]||!o.A)){$.1w(u,3.l)}a b}a U()},1s:6(8,o,L,K){f c=3;a 6(){5(o.1x.p(o.y||c,8,o)===m){a}c.w++;5(c.w===1){$.V.z(c.7+\'22\')}5(o.W&&g[8]){5(!g[8].G||g[8].G<0||((Z 1y().1z()-g[8].1A)<g[8].G)){c.h[8]={};15(6(){c.18.p(c,o.y||o,L,g[8].1B,\'S\',g[8],o);c.17.p(c,o.y||o,K,g[8],\'S\',8,o)},0)}E{11 g[8]}}5(!o.W||!g[8]){5(o.1C){c.h[8]=$.1D(o)}E{$.1D(o)}}a 8}},16:6(b){5(3.d.e||3.d.A){$.1w(u,3.l)}3.w--;3.h[b]=q;11 3.h[b]},23:6(){g={}},1e:6(4,9,o){5(!o.1E||(!4&&!9)){a m}f s=!!((!4||4.24===0||3.1f===o.b));4=q;a s},17:6(y,X,4,9,b,o){5(3.1e(4,9,o)){9=\'v\';o.v.p(y,4,9,o)}X.p(y,4,9,o);$.V.z(3.7+\'25\',[4,9,o]);5(o.1g){$(o.1g).z(3.7+\'1F\',[4,9,o]).z(\'1F\',[4,9,o])}3.16(b);5(!3.w){$.V.z(3.7+\'26\')}4=q},18:6(y,X,j,9,4,o){f c=3;5(3.1e(4,9,o)){4=q;a}5(o.27){$.N(3.h,6(7){5(7===o.b){a m}c.v(7)})}5(o.W&&!g[o.b]){5(!4){4={}}g[o.b]={9:4.9,1G:4.1G,1d:4.1d,1c:4.1c,1B:j,G:o.G,1A:Z 1y().1z()};5(\'1h\'1H 4){f 1i=4.1h();f H;f 1I=6(){5(H){a}H={};$.N(1i.28("\\n"),6(i,Y){f 1j=Y.1J(":");H[Y.1K(0,1j)]=Y.1K(1j+2)})};$.Q(g[o.b],{1h:6(){a 1i},29:6(7){1I();a(7 1H H)?H[7]:q}})}}X.p(y,j,9,4,o);$.V.z(3.7+\'2a\',[4,o,j]);5(o.1k){$(o.1k).z(3.7+\'1L\',[j,o]).z(\'1L\',[j,o])}4=q},1l:6(8){5(8){f s=3.h[8];5(!s&&3.d.e){s=$.1M($(u).e(3.l),6(I,i){a(I.b===8)})[0]}a s}a{h:3.h,e:(3.d.e)?$(u).e(3.l):[],w:3.w}},v:6(8){f 4;5(8){4=3.1l(8);5(4&&4.v){3.1f=8;4.v();3.1f=m}E{$(u).e(3.l,$.1M($(u).e(3.l),6(I,i){a(I!==4)}))}4=q;a}f c=3,1m=[];$.N(3.h,6(8){1m.2b(8)});$.N(1m,6(i,8){c.v(8)})},P:6(1N){$(u).1u(3.l);5(1N){3.v()}}};$.k.C.J.2c=$.k.C.J.1l;$.k.1o={1x:$.F,v:$.F,1E:D,1v:1,W:m,1C:D,1g:m,1k:m,M:D,A:m,G:-1,e:m};$.N($.k.C.J,6(n,I){5(n.1J(\'2d\')===0||!$.2e(I)){a}$.k[n]=6(7,o){5(!r[7]){5(n===\'1p\'){$.k.O(7,o)}E{a}}f 1O=2f.J.2g.p(2h,1);r[7][n].2i(r[7],1O)}})})(2j);',62,144,'|||this|xhr|if|function|name|id|status|return|xhrID|that|opts|queue|var|cache|requests||data|manageAjax|qName|false|||call|null|managed|ret||document|abort|inProgress|url|context|trigger|queueDuplicateRequests|ahr|_manager|true|else|noop|cacheTTL|parsedHeaders|fn|prototype|origCom|origSuc|preventDoubleRequests|each|create|clear|extend|typeof|success|beforeSend|ajaxFn|event|cacheResponse|origFn|headerLine|new|destroy|delete|string|origError|strData|setTimeout|_removeXHR|_complete|_success|errorStr|httpStatus|content|responseXML|responseText|_isAbort|lastAbort|domCompleteTrigger|getAllResponseHeaders|responseHeaders|delimiter|domSuccessTrigger|getData|ids|publicFns|defaults|add|complete|error|_createAjax|throw|clearQueue|maxRequests|dequeue|beforeCreate|Date|getTime|timestamp|_successData|async|ajax|abortIsNoSuccess|DOMComplete|statusText|in|parseHeaders|indexOf|substr|DOMSuccess|grep|shouldAbort|args|use|strict|object|param|type|and|can|be|both|timeout|URL|thrown|response|AjaxStart|clearCache|readyState|AjaxComplete|AjaxStop|abortOld|split|getResponseHeader|AjaxSuccess|push|getXHR|_|isFunction|Array|slice|arguments|apply|jQuery'.split('|'),0,{}))
/*
 * jQuery Tooltip plugin 1.3
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-tooltip/
 * http://docs.jquery.com/Plugins/Tooltip
 *
 * Copyright (c) 2006 - 2008 JÃ¶rn Zaefferer
 *
 * $Id: jquery.tooltip.js 5741 2008-06-21 15:22:16Z joern.zaefferer $
 * 
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
;eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(7($){n c={},e,g,B,C=$.1G.1H&&/1I\\s(5\\.5|6\\.)/.1J(1K.1L),I=Q;$.j={w:Q,1a:{R:1M,o:Q,1b:1c,S:"",f:0,t:0,T:"j",1d:""},1N:7(){$.j.w=!$.j.w}};$.U.1e({j:7(a){a=$.1e({},$.j.1a,a);1f(a);$(u.9).J(\'.p\');d 2.D(7(){$.V(2,"j",a);2.W=c.3.l("1g");2.X=2.g;$(2).V("g",2.g);$(2).1O("g");2.1P=""}).J(".p").K("1Q.p",1h).K("1R.p",m).K("1S.p",m)},1i:C?7(){d 2.D(7(){n b=$(2).l(\'Y\');4(b.1T(/^q\\(["\']?(.*\\.1U)["\']?\\)$/i)){b=1V.$1;$(2).l({\'Y\':\'1W\',\'1j\':"1X:1Y.1Z.20(21=1c, 22=23, 1k=\'"+b+"\')"}).D(7(){n a=$(2).l(\'1l\');4(a!=\'24\'&&a!=\'1m\')$(2).l(\'1l\',\'1m\')})}})}:7(){d 2},1n:C?7(){d 2.D(7(){$(2).l({\'1j\':\'\',Y:\'\'})})}:7(){d 2},1o:7(){d 2.D(7(){$(2)[$(2).E()?"k":"m"]()})},q:7(){d 2.1p(\'25\')||2.1p(\'1k\')}});7 1f(a){4(c.3)d;c.3=$(\'<z T="\'+a.T+\'"><Z 1q="1r">&26;</Z><z 1q="9"></z></z>\').27(u.9).m();c.g=$(\'28\',c.3);c.9=$(\'z.9\',c.3);c.q=$(\'z.q\',c.3)}7 8(a){d $.V(a,"j")}7 1s(a){4(8(2).R)B=29(7(){k.F(2)},8(2).R);h k.F(2);I=!!8(2).I;$(u.9).K(\'11.p\',A);A.F(2,a)}7 1h(){4($.j.w||2==e||(!2.X&&!8(2).12))d;e=2;g=2.X;4(8(2).12){c.g.m();n a=8(2).12.F(2);4($.2a(a)=="")d;4(a.2b||a.2c){c.9.1t().13(a)}h{c.9.E(a)}c.9.k()}h 4(8(2).1u){n b=g.2d(8(2).1u);c.g.E(b.2e()).k();c.9.1t();2f(n i=0,14;(14=b[i]);i++){4(i>0)c.9.13("<2g/>");c.9.13(14)}c.9.1o()}h{c.g.E(g).k();c.9.m()}4(8(2).1b&&$(2).q())c.q.E($(2).q().2h(\'2i://\',\'\')).k();h c.q.m();c.3.1v(8(2).S);1s.2j(2,2k)}7 k(){B=15;4((!C||!$.U.1w)&&8(e).o){4(c.3.L(":1x"))c.3.17().k().18(8(e).o,e.W);h c.3.L(\':1y\')?c.3.18(8(e).o,e.W):c.3.2l(8(e).o)}h{c.3.k()}A.F(2)}7 A(a){4($.j.w)d;4(a&&a.2m.2n=="2o"){d}4(!I&&c.3.L(":1y")){$(u.9).J(\'11.p\',A)}4(e==15){$(u.9).J(\'11.p\',A);d}n b=1z(2),r=b.2p(),v=1A(),f,G,M,2q;4(c.3.N()>v.H){f=v.y;G=r.f-v.y-5}h 4((r.f-10+c.3.N())>(v.y+v.H)){f=v.y+v.H-c.3.N();G=r.f+c.3.N()-v.y-v.H-5}h{f=r.f-10;G=5}4((r.t+b.19()+16+c.3.1B())>v.1C){M=r.t-c.3.1B()-16+8(e).t+"O"}h{M=r.t+b.19()+16+8(e).t+"O"}c.3.l({t:M,f:f+8(e).f+"O",2r:"1D",2s:"1D"}).1E().1v(8(e).1d);c.3.2t("Z.1r").l({f:G+"O"})}7 1A(){d{x:$(u).2u(),y:$(u).2v(),1C:$(1F).19(),H:$(1F).2w()}}7 m(a){4($.j.w)d;4(B)2x(B);e=15;n b=8(2);7 P(){c.3.1E(b.S).m().l("1g","")}4((!C||!$.U.1w)&&b.o){4(c.3.L(\':1x\'))c.3.17().18(b.o,0,P);h c.3.17().2y(b.o,P)}h P();4(8(2).1i)c.3.1n()}})(1z);',62,159,'||this|parent|if|||function|settings|body||||return|current|top|title|else||tooltip|show|css|hide|var|fade|tip|url|off||left|document||blocked|||div|update|tID|IE|each|html|call|dif|cy|track|unbind|bind|is|new_left|outerHeight|px|complete|false|delay|extraClass|id|fn|data|tOpacity|tooltipText|backgroundImage|em||mousemove|bodyHandler|append|part|null||stop|fadeTo|width|defaults|showURL|true|className|extend|createHelper|opacity|save|fixPNG|filter|src|position|relative|unfixPNG|hideWhenEmpty|attr|class|arrow|handle|empty|showBody|addClass|bgiframe|animated|visible|jQuery|viewport|outerWidth|cx|auto|removeClass|window|browser|msie|MSIE|test|navigator|userAgent|200|block|removeAttr|alt|mouseover|mouseout|click|match|png|RegExp|none|progid|DXImageTransform|Microsoft|AlphaImageLoader|enabled|sizingMethod|crop|absolute|href|nbsp|appendTo|h3|setTimeout|trim|nodeType|jquery|split|shift|for|br|replace|http|apply|arguments|fadeIn|target|tagName|OPTION|offset|new_right|right|bottom|find|scrollLeft|scrollTop|height|clearTimeout|fadeOut'.split('|'),0,{}))

//METADATA
;(function(e){e.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(b,a){this.defaults.type=b;this.defaults.name=a},get:function(b,a){a=e.extend({},this.defaults,a);if(!a.single.length)a.single="metadata";var c=e.data(b,a.single);if(c)return c;c="{}";var h=function(d){if(typeof d!="string")return d;return d=eval("("+d+")")};if(a.type=="html5"){var g={};e(b.attributes).each(function(){var d=this.nodeName;if(d.match(/^data-/))d=d.replace(/^data-/,
"");else return true;g[d]=h(this.nodeValue)})}else{if(a.type=="class"){var f=a.cre.exec(b.className);if(f)c=f[1]}else if(a.type=="elem"){if(!b.getElementsByTagName)return;f=b.getElementsByTagName(a.name);if(f.length)c=e.trim(f[0].innerHTML)}else if(b.getAttribute!=undefined)if(f=b.getAttribute(a.name))c=f;g=h(c.indexOf("{")<0?"{"+c+"}":c)}e.data(b,a.single,g);return g}}});e.fn.metadata=function(b){return e.metadata.get(this[0],b)}})(jQuery);
/** 
 * History.js jQuery Adapter
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
(function(e,f){"use strict";var g=e.History=e.History||{},jQuery=e.jQuery;if(typeof g.Adapter!=='undefined'){throw new Error('History.js Adapter has already been loaded...');}g.Adapter={bind:function(a,b,c){jQuery(a).bind(b,c)},trigger:function(a,b,c){jQuery(a).trigger(b,c)},extractEventData:function(a,b,c){var d=(b&&b.originalEvent&&b.originalEvent[a])||(c&&c[a])||f;return d},onDomLoad:function(a){jQuery(a)}};if(typeof g.init!=='undefined'){g.init()}})(window);
(function(g,h){"use strict";var j=g.console||h,document=g.document,navigator=g.navigator,sessionStorage=g.sessionStorage||false,setTimeout=g.setTimeout,clearTimeout=g.clearTimeout,setInterval=g.setInterval,clearInterval=g.clearInterval,JSON=g.JSON,alert=g.alert,History=g.History=g.History||{},history=g.history;JSON.stringify=JSON.stringify||JSON.encode;JSON.parse=JSON.parse||JSON.decode;if(typeof History.init!=='undefined'){throw new Error('History.js Core has already been loaded...');}History.init=function(){if(typeof History.Adapter==='undefined'){return false}if(typeof History.initCore!=='undefined'){History.initCore()}if(typeof History.initHtml4!=='undefined'){History.initHtml4()}return true};History.initCore=function(){if(typeof History.initCore.initialized!=='undefined'){return false}else{History.initCore.initialized=true}History.options=History.options||{};History.options.hashChangeInterval=History.options.hashChangeInterval||100;History.options.safariPollInterval=History.options.safariPollInterval||500;History.options.doubleCheckInterval=History.options.doubleCheckInterval||500;History.options.storeInterval=History.options.storeInterval||1000;History.options.busyDelay=History.options.busyDelay||250;History.options.debug=History.options.debug||false;History.options.initialTitle=History.options.initialTitle||document.title;History.intervalList=[];History.clearAllIntervals=function(){var i,il=History.intervalList;if(typeof il!=="undefined"&&il!==null){for(i=0;i<il.length;i++){clearInterval(il[i])}History.intervalList=null}};History.debug=function(){if((History.options.debug||false)){History.log.apply(History,arguments)}};History.log=function(){var a=!(typeof j==='undefined'||typeof j.log==='undefined'||typeof j.log.apply==='undefined'),textarea=document.getElementById('log'),message,i,n,args,arg;if(a){args=Array.prototype.slice.call(arguments);message=args.shift();if(typeof j.debug!=='undefined'){j.debug.apply(j,[message,args])}else{j.log.apply(j,[message,args])}}else{message=("\n"+arguments[0]+"\n")}for(i=1,n=arguments.length;i<n;++i){arg=arguments[i];if(typeof arg==='object'&&typeof JSON!=='undefined'){try{arg=JSON.stringify(arg)}catch(Exception){}}message+="\n"+arg+"\n"}if(textarea){textarea.value+=message+"\n-----\n";textarea.scrollTop=textarea.scrollHeight-textarea.clientHeight}else if(!a){alert(message)}return true};History.getInternetExplorerMajorVersion=function(){var a=History.getInternetExplorerMajorVersion.cached=(typeof History.getInternetExplorerMajorVersion.cached!=='undefined')?History.getInternetExplorerMajorVersion.cached:(function(){var v=3,div=document.createElement('div'),all=div.getElementsByTagName('i');while((div.innerHTML='<!--[if gt IE '+(++v)+']><i></i><![endif]-->')&&all[0]){}return(v>4)?v:false})();return a};History.isInternetExplorer=function(){var a=History.isInternetExplorer.cached=(typeof History.isInternetExplorer.cached!=='undefined')?History.isInternetExplorer.cached:Boolean(History.getInternetExplorerMajorVersion());return a};History.emulated={pushState:!Boolean(g.history&&g.history.pushState&&g.history.replaceState&&!((/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i).test(navigator.userAgent)||(/AppleWebKit\/5([0-2]|3[0-2])/i).test(navigator.userAgent))),hashChange:Boolean(!(('onhashchange'in g)||('onhashchange'in document))||(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<8))};History.enabled=!History.emulated.pushState;History.bugs={setHash:Boolean(!History.emulated.pushState&&navigator.vendor==='Apple Computer, Inc.'&&/AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),safariPoll:Boolean(!History.emulated.pushState&&navigator.vendor==='Apple Computer, Inc.'&&/AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),ieDoubleCheck:Boolean(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<7)};History.isEmptyObject=function(a){for(var b in a){return false}return true};History.cloneObject=function(a){var b,newObj;if(a){b=JSON.stringify(a);newObj=JSON.parse(b)}else{newObj={}}return newObj};History.getRootUrl=function(){var a=document.location.protocol+'//'+(document.location.hostname||document.location.host);if(document.location.port||false){a+=':'+document.location.port}a+='/';return a};History.getBaseHref=function(){var a=document.getElementsByTagName('base'),baseElement=null,baseHref='';if(a.length===1){baseElement=a[0];baseHref=baseElement.href.replace(/[^\/]+$/,'')}baseHref=baseHref.replace(/\/+$/,'');if(baseHref)baseHref+='/';return baseHref};History.getBaseUrl=function(){var a=History.getBaseHref()||History.getBasePageUrl()||History.getRootUrl();return a};History.getPageUrl=function(){var d=History.getState(false,false),stateUrl=(d||{}).url||document.location.href,pageUrl;pageUrl=stateUrl.replace(/\/+$/,'').replace(/[^\/]+$/,function(a,b,c){return(/\./).test(a)?a:a+'/'});return pageUrl};History.getBasePageUrl=function(){var d=document.location.href.replace(/[#\?].*/,'').replace(/[^\/]+$/,function(a,b,c){return(/[^\/]$/).test(a)?'':a}).replace(/\/+$/,'')+'/';return d};History.getFullUrl=function(a,b){var c=a,firstChar=a.substring(0,1);b=(typeof b==='undefined')?true:b;if(/[a-z]+\:\/\//.test(a)){}else if(firstChar==='/'){c=History.getRootUrl()+a.replace(/^\/+/,'')}else if(firstChar==='#'){c=History.getPageUrl().replace(/#.*/,'')+a}else if(firstChar==='?'){c=History.getPageUrl().replace(/[\?#].*/,'')+a}else{if(b){c=History.getBaseUrl()+a.replace(/^(\.\/)+/,'')}else{c=History.getBasePageUrl()+a.replace(/^(\.\/)+/,'')}}return c.replace(/\#$/,'')};History.getShortUrl=function(a){var b=a,baseUrl=History.getBaseUrl(),rootUrl=History.getRootUrl();if(History.emulated.pushState){b=b.replace(baseUrl,'')}b=b.replace(rootUrl,'/');if(History.isTraditionalAnchor(b)){b='./'+b}b=b.replace(/^(\.\/)+/g,'./').replace(/\#$/,'');return b};History.store={};History.idToState=History.idToState||{};History.stateToId=History.stateToId||{};History.urlToId=History.urlToId||{};History.storedStates=History.storedStates||[];History.savedStates=History.savedStates||[];History.normalizeStore=function(){History.store.idToState=History.store.idToState||{};History.store.urlToId=History.store.urlToId||{};History.store.stateToId=History.store.stateToId||{}};History.getState=function(a,b){if(typeof a==='undefined'){a=true}if(typeof b==='undefined'){b=true}var c=History.getLastSavedState();if(!c&&b){c=History.createStateObject()}if(a){c=History.cloneObject(c);c.url=c.cleanUrl||c.url}return c};History.getIdByState=function(a){var b=History.extractId(a.url),str;if(!b){str=History.getStateString(a);if(typeof History.stateToId[str]!=='undefined'){b=History.stateToId[str]}else if(typeof History.store.stateToId[str]!=='undefined'){b=History.store.stateToId[str]}else{while(true){b=(new Date()).getTime()+String(Math.random()).replace(/\D/g,'');if(typeof History.idToState[b]==='undefined'&&typeof History.store.idToState[b]==='undefined'){break}}History.stateToId[str]=b;History.idToState[b]=a}}return b};History.normalizeState=function(a){var b,dataNotEmpty;if(!a||(typeof a!=='object')){a={}}if(typeof a.normalized!=='undefined'){return a}if(!a.data||(typeof a.data!=='object')){a.data={}}b={};b.normalized=true;b.title=a.title||'';b.url=History.getFullUrl(History.unescapeString(a.url||document.location.href));b.hash=History.getShortUrl(b.url);b.data=History.cloneObject(a.data);b.id=History.getIdByState(b);b.cleanUrl=b.url.replace(/\??\&_suid.*/,'');b.url=b.cleanUrl;dataNotEmpty=!History.isEmptyObject(b.data);if(b.title||dataNotEmpty){b.hash=History.getShortUrl(b.url).replace(/\??\&_suid.*/,'');if(!/\?/.test(b.hash)){b.hash+='?'}b.hash+='&_suid='+b.id}b.hashedUrl=History.getFullUrl(b.hash);if((History.emulated.pushState||History.bugs.safariPoll)&&History.hasUrlDuplicate(b)){b.url=b.hashedUrl}return b};History.createStateObject=function(a,b,c){var d={'data':a,'title':b,'url':c};d=History.normalizeState(d);return d};History.getStateById=function(a){a=String(a);var b=History.idToState[a]||History.store.idToState[a]||h;return b};History.getStateString=function(a){var b,cleanedState,str;b=History.normalizeState(a);cleanedState={data:b.data,title:a.title,url:a.url};str=JSON.stringify(cleanedState);return str};History.getStateId=function(a){var b,id;b=History.normalizeState(a);id=b.id;return id};History.getHashByState=function(a){var b,hash;b=History.normalizeState(a);hash=b.hash;return hash};History.extractId=function(a){var b,parts,url;parts=/(.*)\&_suid=([0-9]+)$/.exec(a);url=parts?(parts[1]||a):a;b=parts?String(parts[2]||''):'';return b||false};History.isTraditionalAnchor=function(a){var b=!(/[\/\?\.]/.test(a));return b};History.extractState=function(a,b){var c=null,id,url;b=b||false;id=History.extractId(a);if(id){c=History.getStateById(id)}if(!c){url=History.getFullUrl(a);id=History.getIdByUrl(url)||false;if(id){c=History.getStateById(id)}if(!c&&b&&!History.isTraditionalAnchor(a)){c=History.createStateObject(null,null,url)}}return c};History.getIdByUrl=function(a){var b=History.urlToId[a]||History.store.urlToId[a]||h;return b};History.getLastSavedState=function(){return History.savedStates[History.savedStates.length-1]||h};History.getLastStoredState=function(){return History.storedStates[History.storedStates.length-1]||h};History.hasUrlDuplicate=function(a){var b=false,oldState;oldState=History.extractState(a.url);b=oldState&&oldState.id!==a.id;return b};History.storeState=function(a){History.urlToId[a.url]=a.id;History.storedStates.push(History.cloneObject(a));return a};History.isLastSavedState=function(a){var b=false,newId,oldState,oldId;if(History.savedStates.length){newId=a.id;oldState=History.getLastSavedState();oldId=oldState.id;b=(newId===oldId)}return b};History.saveState=function(a){if(History.isLastSavedState(a)){return false}History.savedStates.push(History.cloneObject(a));return true};History.getStateByIndex=function(a){var b=null;if(typeof a==='undefined'){b=History.savedStates[History.savedStates.length-1]}else if(a<0){b=History.savedStates[History.savedStates.length+a]}else{b=History.savedStates[a]}return b};History.getHash=function(){var a=History.unescapeHash(document.location.hash);return a};History.unescapeString=function(a){var b=a,tmp;return b};History.unescapeHash=function(a){var b=History.normalizeHash(a);b=History.unescapeString(b);return b};History.normalizeHash=function(a){var b=a.replace(/[^#]*#/,'').replace(/#.*/,'');return b};History.setHash=function(a,b){var c,State,pageUrl;if(b!==false&&History.busy()){History.pushQueue({scope:History,callback:History.setHash,args:arguments,queue:b});return false}c=History.escapeHash(a);History.busy(true);State=History.extractState(a,true);if(State&&!History.emulated.pushState){History.pushState(State.data,State.title,State.url,false)}else if(document.location.hash!==c){if(History.bugs.setHash){pageUrl=History.getPageUrl();History.pushState(null,null,pageUrl+'#'+c,false)}else{document.location.hash=c}}return History};History.escapeHash=function(a){var b=History.normalizeHash(a);b=g.escape(b);if(!History.bugs.hashEscape){b=b.replace(/\%21/g,'!').replace(/\%26/g,'&').replace(/\%3D/g,'=').replace(/\%3F/g,'?')}return b};History.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,'$2');b=History.unescapeHash(b);return b};History.setTitle=function(a){var b=a.title,firstState;if(!b){firstState=History.getStateByIndex(0);if(firstState&&firstState.url===a.url){b=firstState.title||History.options.initialTitle}}try{document.getElementsByTagName('title')[0].innerHTML=b.replace('<','&lt;').replace('>','&gt;').replace(' & ',' &amp; ')}catch(Exception){}document.title=b;return History};History.queues=[];History.busy=function(a){if(typeof a!=='undefined'){History.busy.flag=a}else if(typeof History.busy.flag==='undefined'){History.busy.flag=false}if(!History.busy.flag){clearTimeout(History.busy.timeout);var b=function(){var i,queue,item;if(History.busy.flag)return;for(i=History.queues.length-1;i>=0;--i){queue=History.queues[i];if(queue.length===0)continue;item=queue.shift();History.fireQueueItem(item);History.busy.timeout=setTimeout(b,History.options.busyDelay)}};History.busy.timeout=setTimeout(b,History.options.busyDelay)}return History.busy.flag};History.busy.flag=false;History.fireQueueItem=function(a){return a.callback.apply(a.scope||History,a.args||[])};History.pushQueue=function(a){History.queues[a.queue||0]=History.queues[a.queue||0]||[];History.queues[a.queue||0].push(a);return History};History.queue=function(a,b){if(typeof a==='function'){a={callback:a}}if(typeof b!=='undefined'){a.queue=b}if(History.busy()){History.pushQueue(a)}else{History.fireQueueItem(a)}return History};History.clearQueue=function(){History.busy.flag=false;History.queues=[];return History};History.stateChanged=false;History.doubleChecker=false;History.doubleCheckComplete=function(){History.stateChanged=true;History.doubleCheckClear();return History};History.doubleCheckClear=function(){if(History.doubleChecker){clearTimeout(History.doubleChecker);History.doubleChecker=false}return History};History.doubleCheck=function(a){History.stateChanged=false;History.doubleCheckClear();if(History.bugs.ieDoubleCheck){History.doubleChecker=setTimeout(function(){History.doubleCheckClear();if(!History.stateChanged){a()}return true},History.options.doubleCheckInterval)}return History};History.safariStatePoll=function(){var a=History.extractState(document.location.href),newState;if(!History.isLastSavedState(a)){newState=a}else{return}if(!newState){newState=History.createStateObject()}History.Adapter.trigger(g,'popstate');return History};History.back=function(a){if(a!==false&&History.busy()){History.pushQueue({scope:History,callback:History.back,args:arguments,queue:a});return false}History.busy(true);History.doubleCheck(function(){History.back(false)});history.go(-1);return true};History.forward=function(a){if(a!==false&&History.busy()){History.pushQueue({scope:History,callback:History.forward,args:arguments,queue:a});return false}History.busy(true);History.doubleCheck(function(){History.forward(false)});history.go(1);return true};History.go=function(a,b){var i;if(a>0){for(i=1;i<=a;++i){History.forward(b)}}else if(a<0){for(i=-1;i>=a;--i){History.back(b)}}else{throw new Error('History.go: History.go requires a positive or negative integer passed.');}return History};if(History.emulated.pushState){var f=function(){};History.pushState=History.pushState||f;History.replaceState=History.replaceState||f}else{History.onPopState=function(a,b){var c=false,newState=false,currentHash,currentState;History.doubleCheckComplete();currentHash=History.getHash();if(currentHash){currentState=History.extractState(currentHash||document.location.href,true);if(currentState){History.replaceState(currentState.data,currentState.title,currentState.url,false)}else{History.Adapter.trigger(g,'anchorchange');History.busy(false)}History.expectedStateId=false;return false}c=History.Adapter.extractEventData('state',a,b)||false;if(c){newState=History.getStateById(c)}else if(History.expectedStateId){newState=History.getStateById(History.expectedStateId)}else{newState=History.extractState(document.location.href)}if(!newState){newState=History.createStateObject(null,null,document.location.href)}History.expectedStateId=false;if(History.isLastSavedState(newState)){History.busy(false);return false}History.storeState(newState);History.saveState(newState);History.setTitle(newState);History.Adapter.trigger(g,'statechange');History.busy(false);return true};History.Adapter.bind(g,'popstate',History.onPopState);History.pushState=function(a,b,c,d){if(History.getHashByUrl(c)&&History.emulated.pushState){throw new Error('History.js does not support states with fragement-identifiers (hashes/anchors).');}if(d!==false&&History.busy()){History.pushQueue({scope:History,callback:History.pushState,args:arguments,queue:d});return false}History.busy(true);var e=History.createStateObject(a,b,c);if(History.isLastSavedState(e)){History.busy(false)}else{History.storeState(e);History.expectedStateId=e.id;history.pushState(e.id,e.title,e.url);History.Adapter.trigger(g,'popstate')}return true};History.replaceState=function(a,b,c,d){if(History.getHashByUrl(c)&&History.emulated.pushState){throw new Error('History.js does not support states with fragement-identifiers (hashes/anchors).');}if(d!==false&&History.busy()){History.pushQueue({scope:History,callback:History.replaceState,args:arguments,queue:d});return false}History.busy(true);var e=History.createStateObject(a,b,c);if(History.isLastSavedState(e)){History.busy(false)}else{History.storeState(e);History.expectedStateId=e.id;history.replaceState(e.id,e.title,e.url);History.Adapter.trigger(g,'popstate')}return true}}if(sessionStorage){try{History.store=JSON.parse(sessionStorage.getItem('History.store'))||{}}catch(err){History.store={}}History.normalizeStore()}else{History.store={};History.normalizeStore()}History.Adapter.bind(g,"beforeunload",History.clearAllIntervals);History.Adapter.bind(g,"unload",History.clearAllIntervals);History.saveState(History.storeState(History.extractState(document.location.href,true)));if(sessionStorage){History.onUnload=function(){var a,item;try{a=JSON.parse(sessionStorage.getItem('History.store'))||{}}catch(err){a={}}a.idToState=a.idToState||{};a.urlToId=a.urlToId||{};a.stateToId=a.stateToId||{};for(item in History.idToState){if(!History.idToState.hasOwnProperty(item)){continue}a.idToState[item]=History.idToState[item]}for(item in History.urlToId){if(!History.urlToId.hasOwnProperty(item)){continue}a.urlToId[item]=History.urlToId[item]}for(item in History.stateToId){if(!History.stateToId.hasOwnProperty(item)){continue}a.stateToId[item]=History.stateToId[item]}History.store=a;History.normalizeStore();sessionStorage.setItem('History.store',JSON.stringify(a))};History.intervalList.push(setInterval(History.onUnload,History.options.storeInterval));History.Adapter.bind(g,'beforeunload',History.onUnload);History.Adapter.bind(g,'unload',History.onUnload)}if(!History.emulated.pushState){if(History.bugs.safariPoll){History.intervalList.push(setInterval(History.safariStatePoll,History.options.safariPollInterval))}if(navigator.vendor==='Apple Computer, Inc.'||(navigator.appCodeName||'')==='Mozilla'){History.Adapter.bind(g,'hashchange',function(){History.Adapter.trigger(g,'popstate')});if(History.getHash()){History.Adapter.onDomLoad(function(){History.Adapter.trigger(g,'hashchange')})}}}};History.init()})(window);
(function(c,d){var e=c.History,State=e.getState();e.Adapter.bind(c,'statechange',function(){var a=e.getState();var b=a.url;document.title='';Ajaxmenu(a.title)})})(window);
/**
  * Tipsy Facebook-style tooltip
  * Version: 0.1.7
  * Project Page:  http://onehackoranother.com/projects/jquery/tipsy/
  * Requirements:  jQuery
  * Usage Example: http://onehackoranother.com/projects/jquery/tipsy/#examples
  *
  * Author: Jason Frame
  * 
  * License: MIT License
  *
 **/ 
(function($) {
    $.fn.tipsy = function(options) {

        options = $.extend({}, $.fn.tipsy.defaults, options);
        
        return this.each(function() {
            
            var opts = $.fn.tipsy.elementOptions(this, options);
            
            $(this).hover(function() {

                $.data(this, 'cancel.tipsy', true);

                var tip = $.data(this, 'active.tipsy');
                if (!tip) {
                    tip = $('<div class="tipsy"><div class="tipsy-inner"/></div>');
                    tip.css({position: 'absolute', zIndex: 100000});
                    $.data(this, 'active.tipsy', tip);
                }

                if ($(this).attr('title') || typeof($(this).attr('original-title')) != 'string') {
                    $(this).attr('original-title', $(this).attr('title') || '').removeAttr('title');
                }

                var title;
                if (typeof opts.title == 'string') {
                    title = $(this).attr(opts.title == 'title' ? 'original-title' : opts.title);
                } else if (typeof opts.title == 'function') {
                    title = opts.title.call(this);
                }

                tip.find('.tipsy-inner')[opts.html ? 'html' : 'text'](title || opts.fallback);

                var pos = $.extend({}, $(this).offset(), {width: this.offsetWidth, height: this.offsetHeight});
                tip.get(0).className = 'tipsy'; // reset classname in case of dynamic gravity
                tip.remove().css({top: 0, left: 0, visibility: 'hidden', display: 'block'}).appendTo(document.body);
                var actualWidth = tip[0].offsetWidth, actualHeight = tip[0].offsetHeight;
                var gravity = (typeof opts.gravity == 'function') ? opts.gravity.call(this) : opts.gravity;

                switch (gravity.charAt(0)) {
                    case 'n':
                        tip.css({top: pos.top + pos.height, left: pos.left + pos.width / 2 - actualWidth / 2}).addClass('tipsy-north');
                        break;
                    case 's':
                        tip.css({top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2}).addClass('tipsy-south');
                        break;
                    case 'e':
                        tip.css({top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth}).addClass('tipsy-east');
                        break;
                    case 'w':
                        tip.css({top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width}).addClass('tipsy-west');
                        break;
                }

                if (opts.fade) {
                    tip.css({opacity: 0, display: 'block', visibility: 'visible'}).animate({opacity: 0.8});
                } else {
                    tip.css({visibility: 'visible'});
                }

            }, function() {
                $.data(this, 'cancel.tipsy', false);
                var self = this;
                setTimeout(function() {
                    if ($.data(this, 'cancel.tipsy')) return;
                    var tip = $.data(self, 'active.tipsy');
                    if (opts.fade) {
                        tip.stop().fadeOut(function() { $(this).remove(); });
                    } else {
                        tip.remove();
                    }
                }, 100);

            });
            
        });
        
    };
    
    // Overwrite this method to provide options on a per-element basis.
    // For example, you could store the gravity in a 'tipsy-gravity' attribute:
    // return $.extend({}, options, {gravity: $(ele).attr('tipsy-gravity') || 'n' });


    // (remember - do not modify 'options' in place!)
    $.fn.tipsy.elementOptions = function(ele, options) {
        return $.metadata ? $.extend({}, options, $(ele).metadata()) : options;
    };
    
    $.fn.tipsy.defaults = {
        fade: false,
        fallback: '',
        gravity: 'n',
        html: false,
        title: 'title'
    };
    
    $.fn.tipsy.autoNS = function() {
        return $(this).offset().top > ($(document).scrollTop() + $(window).height() / 2) ? 's' : 'n';
    };
    
    $.fn.tipsy.autoWE = function() {
        return $(this).offset().left > ($(document).scrollLeft() + $(window).width() / 2) ? 'e' : 'w';
    };
    
})(jQuery);



/**
 * jquery.slider - Slider ui control in jQuery
 * 
 * Written by
 * Egor Khmelev (hmelyoff@gmail.com)
 *
 * Licensed under the MIT (MIT-LICENSE.txt).
 *
 * @author Egor Khmelev
 * @version 1.1.0-RELEASE ($Id$)
 * 
 * Dependencies
 * 
 * jQuery (http://jquery.com)
 * jquery.numberformatter (http://code.google.com/p/jquery-numberformatter/)
 * tmpl (http://ejohn.org/blog/javascript-micro-templating/)
 * jquery.dependClass
 * draggable
 * 
 **/

var Hashtable=function(){function n(t){var r;if(typeof t=="string")return t;if(typeof t.hashCode==e)return r=t.hashCode(),typeof r=="string"?r:n(r);if(typeof t.toString==e)return t.toString();try{return String(t)}catch(i){return Object.prototype.toString.call(t)}}function r(e,t){return e.equals(t)}function i(t,n){return typeof n.equals==e?n.equals(t):t===n}function s(e){return function(t){if(t===null)throw new Error("null is not a valid "+e);if(typeof t=="undefined")throw new Error(e+" must not be undefined")}}function a(e,t,n,r){this[0]=e,this.entries=[],this.addEntry(t,n),r!==null&&(this.getEqualityFunction=function(){return r})}function h(e){return function(t){var n=this.entries.length,r,i=this.getEqualityFunction(t);while(n--){r=this.entries[n];if(i(t,r[0]))switch(e){case f:return!0;case l:return r;case c:return[n,r[1]]}}return!1}}function p(e){return function(t){var n=t.length;for(var r=0,i=this.entries.length;r<i;++r)t[n+r]=this.entries[r][e]}}function d(e,t){var n=e.length,r;while(n--){r=e[n];if(t===r[0])return n}return null}function v(e,t){var n=e[t];return n&&n instanceof a?n:null}function m(r,i){var s=this,f=[],l={},c=typeof r==e?r:n,h=typeof i==e?i:null;this.put=function(e,t){o(e),u(t);var n=c(e),r,i,s=null;return r=v(l,n),r?(i=r.getEntryForKey(e),i?(s=i[1],i[1]=t):r.addEntry(e,t)):(r=new a(n,e,t,h),f[f.length]=r,l[n]=r),s},this.get=function(e){o(e);var t=c(e),n=v(l,t);if(n){var r=n.getEntryForKey(e);if(r)return r[1]}return null},this.containsKey=function(e){o(e);var t=c(e),n=v(l,t);return n?n.containsKey(e):!1},this.containsValue=function(e){u(e);var t=f.length;while(t--)if(f[t].containsValue(e))return!0;return!1},this.clear=function(){f.length=0,l={}},this.isEmpty=function(){return!f.length};var p=function(e){return function(){var t=[],n=f.length;while(n--)f[n][e](t);return t}};this.keys=p("keys"),this.values=p("values"),this.entries=p("getEntries"),this.remove=function(e){o(e);var n=c(e),r,i=null,s=v(l,n);return s&&(i=s.removeEntryForKey(e),i!==null&&(s.entries.length||(r=d(f,n),t(f,r),delete l[n]))),i},this.size=function(){var e=0,t=f.length;while(t--)e+=f[t].entries.length;return e},this.each=function(e){var t=s.entries(),n=t.length,r;while(n--)r=t[n],e(r[0],r[1])},this.putAll=function(t,n){var r=t.entries(),i,o,u,a,f=r.length,l=typeof n==e;while(f--)i=r[f],o=i[0],u=i[1],l&&(a=s.get(o))&&(u=n(o,a,u)),s.put(o,u)},this.clone=function(){var e=new m(r,i);return e.putAll(s),e}}var e="function",t=typeof Array.prototype.splice==e?function(e,t){e.splice(t,1)}:function(e,t){var n,r,i;if(t===e.length-1)e.length=t;else{n=e.slice(t+1),e.length=t;for(r=0,i=n.length;r<i;++r)e[t+r]=n[r]}},o=s("key"),u=s("value"),f=0,l=1,c=2;return a.prototype={getEqualityFunction:function(t){return typeof t.equals==e?r:i},getEntryForKey:h(l),getEntryAndIndexForKey:h(c),removeEntryForKey:function(e){var n=this.getEntryAndIndexForKey(e);return n?(t(this.entries,n[0]),n[1]):null},addEntry:function(e,t){this.entries[this.entries.length]=[e,t]},keys:p(0),values:p(1),getEntries:function(e){var t=e.length;for(var n=0,r=this.entries.length;n<r;++n)e[t+n]=this.entries[n].slice(0)},containsKey:h(f),containsValue:function(e){var t=this.entries.length;while(t--)if(e===this.entries[t][1])return!0;return!1}},m}();(function(e){function a(e,t,n){this.dec=e,this.group=t,this.neg=n}function f(){for(var e=0;e<u.length;e++){localeGroup=u[e];for(var n=0;n<localeGroup.length;n++)t.put(localeGroup[n],e)}}function l(e,n){t.size()==0&&f();var r=".",i=",",s="-";n==0&&(e.indexOf("_")!=-1?e=e.split("_")[1].toLowerCase():e.indexOf("-")!=-1&&(e=e.split("-")[1].toLowerCase()));var u=t.get(e);if(u){var l=o[u];l&&(r=l[0],i=l[1])}return new a(r,i,s)}var t=new Hashtable,n=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],r=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],i=["cz","fi","fr","ru","se","pl"],s=["ch"],o=[[".",","],[",","."],[","," "],[".","'"]],u=[n,r,i,s];e.fn.formatNumber=function(t,n,r){return this.each(function(){n==null&&(n=!0),r==null&&(r=!0);var i;e(this).is(":input")?i=new String(e(this).val()):i=new String(e(this).text());var s=e.formatNumber(i,t);n&&(e(this).is(":input")?e(this).val(s):e(this).text(s));if(r)return s})},e.formatNumber=function(t,n){var n=e.extend({},e.fn.formatNumber.defaults,n),r=l(n.locale.toLowerCase(),n.isFullLocale),i=r.dec,s=r.group,o=r.neg,u="0#-,.",a="",f=!1;for(var c=0;c<n.format.length;c++){if(u.indexOf(n.format.charAt(c))!=-1){if(c==0&&n.format.charAt(c)=="-"){f=!0;continue}break}a+=n.format.charAt(c)}var h="";for(var c=n.format.length-1;c>=0;c--){if(u.indexOf(n.format.charAt(c))!=-1)break;h=n.format.charAt(c)+h}n.format=n.format.substring(a.length),n.format=n.format.substring(0,n.format.length-h.length);var p=new Number(t);return e._formatNumber(p,n,h,a,f)},e._formatNumber=function(t,n,r,i,s){var n=e.extend({},e.fn.formatNumber.defaults,n),o=l(n.locale.toLowerCase(),n.isFullLocale),u=o.dec,a=o.group,f=o.neg,c=!1;if(isNaN(t)){if(n.nanForceZero!=1)return null;t=0,c=!0}r=="%"&&(t*=100);var h="";if(n.format.indexOf(".")>-1){var p=u,d=n.format.substring(n.format.lastIndexOf(".")+1);if(n.round==1)t=new Number(t.toFixed(d.length));else{var v=t.toString();v=v.substring(0,v.lastIndexOf(".")+d.length+1),t=new Number(v)}var m=t%1,g=new String(m.toFixed(d.length));g=g.substring(g.lastIndexOf(".")+1);for(var y=0;y<d.length;y++){if(d.charAt(y)=="#"&&g.charAt(y)!="0"){p+=g.charAt(y);continue}if(d.charAt(y)=="#"&&g.charAt(y)=="0"){var b=g.substring(y);if(b.match("[1-9]")){p+=g.charAt(y);continue}break}d.charAt(y)=="0"&&(p+=g.charAt(y))}h+=p}else t=Math.round(t);var w=Math.floor(t);t<0&&(w=Math.ceil(t));var E="";n.format.indexOf(".")==-1?E=n.format:E=n.format.substring(0,n.format.indexOf("."));var S="";if(w!=0||E.substr(E.length-1)!="#"||c){var x=new String(Math.abs(w)),T=9999;E.lastIndexOf(",")!=-1&&(T=E.length-E.lastIndexOf(",")-1);var N=0;for(var y=x.length-1;y>-1;y--)S=x.charAt(y)+S,N++,N==T&&y!=0&&(S=a+S,N=0);if(E.length>S.length){var C=E.indexOf("0");if(C!=-1){var k=E.length-C,L=E.length-S.length-1;while(S.length<k){var A=E.charAt(L);A==","&&(A=a),S=A+S,L--}}}}return!S&&E.indexOf("0",E.length-1)!==-1&&(S="0"),h=S+h,t<0&&s&&i.length>0?i=f+i:t<0&&(h=f+h),n.decimalSeparatorAlwaysShown||h.lastIndexOf(u)==h.length-1&&(h=h.substring(0,h.length-1)),h=i+h+r,h},e.fn.parseNumber=function(t,n,r){n==null&&(n=!0),r==null&&(r=!0);var i;e(this).is(":input")?i=new String(e(this).val()):i=new String(e(this).text());var s=e.parseNumber(i,t);if(s){n&&(e(this).is(":input")?e(this).val(s.toString()):e(this).text(s.toString()));if(r)return s}},e.parseNumber=function(t,n){var n=e.extend({},e.fn.parseNumber.defaults,n),r=l(n.locale.toLowerCase(),n.isFullLocale),i=r.dec,s=r.group,o=r.neg,u="1234567890.-";while(t.indexOf(s)>-1)t=t.replace(s,"");t=t.replace(i,".").replace(o,"-");var a="",f=!1;if(t.charAt(t.length-1)=="%"||n.isPercentage==1)f=!0;for(var c=0;c<t.length;c++)u.indexOf(t.charAt(c))>-1&&(a+=t.charAt(c));var h=new Number(a);if(f){h/=100;var p=a.indexOf(".");if(p!=-1){var d=a.length-p-1;h=h.toFixed(d+2)}else h=h.toFixed(a.length-1)}return h},e.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:!1,isPercentage:!1,isFullLocale:!1},e.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1,nanForceZero:!0,round:!0,isFullLocale:!1},Number.prototype.toFixed=function(t){return e._roundNumber(this,t)},e._roundNumber=function(e,t){var n=Math.pow(10,t||0),r=String(Math.round(e*n)/n);if(t>0){var i=r.indexOf(".");i==-1?(r+=".",i=0):i=r.length-(i+1);while(i<t)r+="0",i++}return r}})(jQuery),function(){var e={};this.tmpl=function t(n,r){var i=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[n]=e[n]||t(document.getElementById(n).innerHTML);return r?i(r):i}}(),function(e){e.baseClass=function(t){return t=e(t),t.get(0).className.match(/([^ ]+)/)[1]},e.fn.addDependClass=function(t,n){var r={delimiter:n?n:"-"};return this.each(function(){var n=e.baseClass(this);n&&e(this).addClass(n+r.delimiter+t)})},e.fn.removeDependClass=function(t,n){var r={delimiter:n?n:"-"};return this.each(function(){var n=e.baseClass(this);n&&e(this).removeClass(n+r.delimiter+t)})},e.fn.toggleDependClass=function(t,n){var r={delimiter:n?n:"-"};return this.each(function(){var n=e.baseClass(this);n&&(e(this).is("."+n+r.delimiter+t)?e(this).removeClass(n+r.delimiter+t):e(this).addClass(n+r.delimiter+t))})}}(jQuery),function(e){function t(){this._init.apply(this,arguments)}t.prototype.oninit=function(){},t.prototype.events=function(){},t.prototype.onmousedown=function(){this.ptr.css({position:"absolute"})},t.prototype.onmousemove=function(e,t,n){this.ptr.css({left:t,top:n})},t.prototype.onmouseup=function(){},t.prototype.isDefault={drag:!1,clicked:!1,toclick:!0,mouseup:!1},t.prototype._init=function(){if(arguments.length>0){this.ptr=e(arguments[0]),this.outer=e(".draggable-outer"),this.is={},e.extend(this.is,this.isDefault);var t=this.ptr.offset();this.d={left:t.left,top:t.top,width:this.ptr.width(),height:this.ptr.height()},this.oninit.apply(this,arguments),this._events()}},t.prototype._getPageCoords=function(e){return e.targetTouches&&e.targetTouches[0]?{x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}:{x:e.pageX,y:e.pageY}},t.prototype._bindEvent=function(e,t,n){var r=this;this.supportTouches_?e.get(0).addEventListener(this.events_[t],n,!1):e.bind(this.events_[t],n)},t.prototype._events=function(){var t=this;this.supportTouches_=e.browser.webkit&&navigator.userAgent.indexOf("Mobile")!=-1,this.events_={click:this.supportTouches_?"touchstart":"click",down:this.supportTouches_?"touchstart":"mousedown",move:this.supportTouches_?"touchmove":"mousemove",up:this.supportTouches_?"touchend":"mouseup"},this._bindEvent(e(document),"move",function(e){t.is.drag&&(e.stopPropagation(),e.preventDefault(),t._mousemove(e))}),this._bindEvent(e(document),"down",function(e){t.is.drag&&(e.stopPropagation(),e.preventDefault())}),this._bindEvent(e(document),"up",function(e){t._mouseup(e)}),this._bindEvent(this.ptr,"down",function(e){return t._mousedown(e),!1}),this._bindEvent(this.ptr,"up",function(e){t._mouseup(e)}),this.ptr.find("a").click(function(){t.is.clicked=!0;if(!t.is.toclick)return t.is.toclick=!0,!1}).mousedown(function(e){return t._mousedown(e),!1}),this.events()},t.prototype._mousedown=function(t){this.is.drag=!0,this.is.clicked=!1,this.is.mouseup=!1;var n=this.ptr.offset(),r=this._getPageCoords(t);this.cx=r.x-n.left,this.cy=r.y-n.top,e.extend(this.d,{left:n.left,top:n.top,width:this.ptr.width(),height:this.ptr.height()}),this.outer&&this.outer.get(0)&&this.outer.css({height:Math.max(this.outer.height(),e(document.body).height()),overflow:"hidden"}),this.onmousedown(t)},t.prototype._mousemove=function(e){this.is.toclick=!1;var t=this._getPageCoords(e);this.onmousemove(e,t.x-this.cx,t.y-this.cy)},t.prototype._mouseup=function(t){var n=this;this.is.drag&&(this.is.drag=!1,this.outer&&this.outer.get(0)&&(e.browser.mozilla?this.outer.css({overflow:"hidden"}):this.outer.css({overflow:"visible"}),e.browser.msie&&e.browser.version=="6.0"?this.outer.css({height:"100%"}):this.outer.css({height:"auto"})),this.onmouseup(t))},window.Draggable=t}(jQuery),function(e){function t(e){return typeof e=="undefined"?!1:e instanceof Array||!(e instanceof Object)&&Object.prototype.toString.call(e)=="[object Array]"||typeof e.length=="number"&&typeof e.splice!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("splice")?!0:!1}function r(){return this.init.apply(this,arguments)}function i(){Draggable.apply(this,arguments)}e.slider=function(t,n){var i=e(t);return i.data("jslider")||i.data("jslider",new r(t,n)),i.data("jslider")},e.fn.slider=function(n,r){function o(e){return e!==undefined}function u(e){return e!=null}var i,s=arguments;return this.each(function(){var a=e.slider(this,n);if(typeof n=="string")switch(n){case"value":if(o(s[1])&&o(s[2])){var f=a.getPointers();u(f[0])&&u(s[1])&&(f[0].set(s[1]),f[0].setIndexOver()),u(f[1])&&u(s[2])&&(f[1].set(s[2]),f[1].setIndexOver())}else if(o(s[1])){var f=a.getPointers();u(f[0])&&u(s[1])&&(f[0].set(s[1]),f[0].setIndexOver())}else i=a.getValue();break;case"prc":if(o(s[1])&&o(s[2])){var f=a.getPointers();u(f[0])&&u(s[1])&&(f[0]._set(s[1]),f[0].setIndexOver()),u(f[1])&&u(s[2])&&(f[1]._set(s[2]),f[1].setIndexOver())}else if(o(s[1])){var f=a.getPointers();u(f[0])&&u(s[1])&&(f[0]._set(s[1]),f[0].setIndexOver())}else i=a.getPrcValue();break;case"calculatedValue":var l=a.getValue().split(";");i="";for(var c=0;c<l.length;c++)i+=(c>0?";":"")+a.nice(l[c]);break;case"skin":a.setSkin(s[1])}else!n&&!r&&(t(i)||(i=[]),i.push(a))}),t(i)&&i.length==1&&(i=i[0]),i||this};var n={settings:{from:1,to:10,step:1,smooth:!0,limits:!0,round:0,format:{format:"#,##0.##"},value:"5;7",dimension:""},className:"jslider",selector:".jslider-",template:tmpl('<span class="<%=className%>"><table><tr><td><div class="<%=className%>-bg"><i class="l"></i><i class="f"></i><i class="r"></i><i class="v"></i></div><div class="<%=className%>-pointer"></div><div class="<%=className%>-pointer <%=className%>-pointer-to"></div><div class="<%=className%>-label"><span><%=settings.from%></span></div><div class="<%=className%>-label <%=className%>-label-to"><span><%=settings.to%></span><%=settings.dimension%></div><div class="<%=className%>-value"><span></span><%=settings.dimension%></div><div class="<%=className%>-value <%=className%>-value-to"><span></span><%=settings.dimension%></div><div class="<%=className%>-scale"><%=scale%></div></td></tr></table></span>')};r.prototype.init=function(t,r){this.settings=e.extend(!0,{},n.settings,r?r:{}),this.inputNode=e(t).hide(),this.settings.interval=this.settings.to-this.settings.from,this.settings.value=this.inputNode.attr("value"),this.settings.calculate&&e.isFunction(this.settings.calculate)&&(this.nice=this.settings.calculate),this.settings.onstatechange&&e.isFunction(this.settings.onstatechange)&&(this.onstatechange=this.settings.onstatechange),this.is={init:!1},this.o={},this.create()},r.prototype.onstatechange=function(){},r.prototype.create=function(){var t=this;this.domNode=e(n.template({className:n.className,settings:{from:this.nice(this.settings.from),to:this.nice(this.settings.to),dimension:this.settings.dimension},scale:this.generateScale()})),this.inputNode.after(this.domNode),this.drawScale(),this.settings.skin&&this.settings.skin.length>0&&this.setSkin(this.settings.skin),this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()},e.extend(this.o,{pointers:{},labels:{0:{o:this.domNode.find(n.selector+"value").not(n.selector+"value-to")},1:{o:this.domNode.find(n.selector+"value").filter(n.selector+"value-to")}},limits:{0:this.domNode.find(n.selector+"label").not(n.selector+"label-to"),1:this.domNode.find(n.selector+"label").filter(n.selector+"label-to")}}),e.extend(this.o.labels[0],{value:this.o.labels[0].o.find("span")}),e.extend(this.o.labels[1],{value:this.o.labels[1].o.find("span")}),t.settings.value.split(";")[1]||(this.settings.single=!0,this.domNode.addDependClass("single")),t.settings.limits||this.domNode.addDependClass("limitless"),this.domNode.find(n.selector+"pointer").each(function(e){var n=t.settings.value.split(";")[e];if(n){t.o.pointers[e]=new i(this,e,t);var r=t.settings.value.split(";")[e-1];r&&new Number(n)<new Number(r)&&(n=r),n=n<t.settings.from?t.settings.from:n,n=n>t.settings.to?t.settings.to:n,t.o.pointers[e].set(n,!0)}}),this.o.value=this.domNode.find(".v"),this.is.init=!0,e.each(this.o.pointers,function(e){t.redraw(this)}),function(t){e(window).resize(function(){t.onresize()})}(this)},r.prototype.setSkin=function(e){this.skin_&&this.domNode.removeDependClass(this.skin_,"_"),this.domNode.addDependClass(this.skin_=e,"_")},r.prototype.setPointersIndex=function(t){e.each(this.getPointers(),function(e){this.index(e)})},r.prototype.getPointers=function(){return this.o.pointers},r.prototype.generateScale=function(){if(this.settings.scale&&this.settings.scale.length>0){var e="",t=this.settings.scale,n=Math.round(100/(t.length-1)*10)/10;for(var r=0;r<t.length;r++)e+='<span style="left: '+r*n+'%">'+(t[r]!="|"?"<ins>"+t[r]+"</ins>":"")+"</span>";return e}return""},r.prototype.drawScale=function(){this.domNode.find(n.selector+"scale span ins").each(function(){e(this).css({marginLeft:-e(this).outerWidth()/2})})},r.prototype.onresize=function(){var t=this;this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()},e.each(this.o.pointers,function(e){t.redraw(this)})},r.prototype.update=function(){this.onresize(),this.drawScale()},r.prototype.limits=function(e,t){if(!this.settings.smooth){var n=this.settings.step*100/this.settings.interval;e=Math.round(e/n)*n}var r=this.o.pointers[1-t.uid];return r&&t.uid&&e<r.value.prc&&(e=r.value.prc),r&&!t.uid&&e>r.value.prc&&(e=r.value.prc),e<0&&(e=0),e>100&&(e=100),Math.round(e*10)/10},r.prototype.redraw=function(e){if(!this.is.init)return!1;this.setValue(),this.o.pointers[0]&&this.o.pointers[1]&&this.o.value.css({left:this.o.pointers[0].value.prc+"%",width:this.o.pointers[1].value.prc-this.o.pointers[0].value.prc+"%"}),this.o.labels[e.uid].value.html(this.nice(e.value.origin)),this.redrawLabels(e)},r.prototype.redrawLabels=function(e){function t(e,t,r){return t.margin=-t.label/2,label_left=t.border+t.margin,label_left<0&&(t.margin-=label_left),t.border+t.label/2>n.sizes.domWidth?(t.margin=0,t.right=!0):t.right=!1,e.o.css({left:r+"%",marginLeft:t.margin,right:"auto"}),t.right&&e.o.css({left:"auto",right:0}),t}var n=this,r=this.o.labels[e.uid],i=e.value.prc,s={label:r.o.outerWidth(),right:!1,border:i*this.sizes.domWidth/100};if(!this.settings.single){var o=this.o.pointers[1-e.uid],u=this.o.labels[o.uid];switch(e.uid){case 0:s.border+s.label/2>u.o.offset().left-this.sizes.domOffset.left?(u.o.css({visibility:"hidden"}),u.value.html(this.nice(o.value.origin)),r.o.css({visibility:"visible"}),i=(o.value.prc-i)/2+i,o.value.prc!=e.value.prc&&(r.value.html(this.nice(e.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(o.value.origin)),s.label=r.o.outerWidth(),s.border=i*this.sizes.domWidth/100)):u.o.css({visibility:"visible"});break;case 1:s.border-s.label/2<u.o.offset().left-this.sizes.domOffset.left+u.o.outerWidth()?(u.o.css({visibility:"hidden"}),u.value.html(this.nice(o.value.origin)),r.o.css({visibility:"visible"}),i=(i-o.value.prc)/2+o.value.prc,o.value.prc!=e.value.prc&&(r.value.html(this.nice(o.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(e.value.origin)),s.label=r.o.outerWidth(),s.border=i*this.sizes.domWidth/100)):u.o.css({visibility:"visible"})}}s=t(r,s,i);if(u){var s={label:u.o.outerWidth(),right:!1,border:o.value.prc*this.sizes.domWidth/100};s=t(u,s,o.value.prc)}this.redrawLimits()},r.prototype.redrawLimits=function(){if(this.settings.limits){var e=[!0,!0];for(key in this.o.pointers)if(!this.settings.single||key==0){var t=this.o.pointers[key],n=this.o.labels[t.uid],r=n.o.offset().left-this.sizes.domOffset.left,i=this.o.limits[0];r<i.outerWidth()&&(e[0]=!1);var i=this.o.limits[1];r+n.o.outerWidth()>this.sizes.domWidth-i.outerWidth()&&(e[1]=!1)}for(var s=0;s<e.length;s++)e[s]?this.o.limits[s].fadeIn("fast"):this.o.limits[s].fadeOut("fast")}},r.prototype.setValue=function(){var e=this.getValue();this.inputNode.attr("value",e),this.onstatechange.call(this,e)},r.prototype.getValue=function(){if(!this.is.init)return!1;var t=this,n="";return e.each(this.o.pointers,function(e){this.value.prc!=undefined&&!isNaN(this.value.prc)&&(n+=(e>0?";":"")+t.prcToValue(this.value.prc))}),n},r.prototype.getPrcValue=function(){if(!this.is.init)return!1;var t=this,n="";return e.each(this.o.pointers,function(e){this.value.prc!=undefined&&!isNaN(this.value.prc)&&(n+=(e>0?";":"")+this.value.prc)}),n},r.prototype.prcToValue=function(e){if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0){var t=this.settings.heterogeneity,n=0,r=this.settings.from;for(var i=0;i<=t.length;i++){if(t[i])var s=t[i].split("/");else var s=[100,this.settings.to];s[0]=new Number(s[0]),s[1]=new Number(s[1]);if(e>=n&&e<=s[0])var o=r+(e-n)*(s[1]-r)/(s[0]-n);n=s[0],r=s[1]}}else var o=this.settings.from+e*this.settings.interval/100;return this.round(o)},r.prototype.valueToPrc=function(e,t){if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0){var n=this.settings.heterogeneity,r=0,i=this.settings.from;for(var s=0;s<=n.length;s++){if(n[s])var o=n[s].split("/");else var o=[100,this.settings.to];o[0]=new Number(o[0]),o[1]=new Number(o[1]);if(e>=i&&e<=o[1])var u=t.limits(r+(e-i)*(o[0]-r)/(o[1]-i));r=o[0],i=o[1]}}else var u=t.limits((e-this.settings.from)*100/this.settings.interval);return u},r.prototype.round=function(e){return e=Math.round(e/this.settings.step)*this.settings.step,this.settings.round?e=Math.round(e*Math.pow(10,this.settings.round))/Math.pow(10,this.settings.round):e=Math.round(e),e},r.prototype.nice=function(t){return t=t.toString().replace(/,/gi,".").replace(/ /gi,""),e.formatNumber?e.formatNumber(new Number(t),this.settings.format||{}).replace(/-/gi,"&minus;"):new Number(t)},i.prototype=new Draggable,i.prototype.oninit=function(e,t,n){this.uid=t,this.parent=n,this.value={},this.settings=this.parent.settings},i.prototype.onmousedown=function(e){this._parent={offset:this.parent.domNode.offset(),width:this.parent.domNode.width()},this.ptr.addDependClass("hover"),this.setIndexOver()},i.prototype.onmousemove=function(e,t){var n=this._getPageCoords(e);this._set(this.calc(n.x))},i.prototype.onmouseup=function(t){this.parent.settings.callback&&e.isFunction(this.parent.settings.callback)&&this.parent.settings.callback.call(this.parent,this.parent.getValue()),this.ptr.removeDependClass("hover")},i.prototype.setIndexOver=function(){this.parent.setPointersIndex(1),this.index(2)},i.prototype.index=function(e){this.ptr.css({zIndex:e})},i.prototype.limits=function(e){return this.parent.limits(e,this)},i.prototype.calc=function(e){var t=this.limits((e-this._parent.offset.left)*100/this._parent.width);return t},i.prototype.set=function(e,t){this.value.origin=this.parent.round(e),this._set(this.parent.valueToPrc(e,this),t)},i.prototype._set=function(e,t){t||(this.value.origin=this.parent.prcToValue(e)),this.value.prc=e,this.ptr.css({left:e+"%"}),this.parent.redraw(this)}}(jQuery);